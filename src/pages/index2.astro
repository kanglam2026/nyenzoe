---
import Hero from '../components/Hero2.astro';
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import CardThumbnail from '../components/CardThumbnail.astro';

const featuredApps = [
	{
		title: "Dhungkar",
		author: "Dhungkar Corporation",
		icon: "/icons/dhung.jpg",
		rating: 4.5,
		downloads: "1M+",
		category: "Productivity",
		price: "Free",
		description: "A powerful productivity app for modern professionals"
	},
	{
		title: "Patra",
		author: "Patra Corporation",
		icon: "/icons/book.png",
		rating: 4.2,
		downloads: "500K+",
		category: "Education",
		price: "Free",
		description: "Learn and explore with interactive content"
	},
	{
		title: "TaskMaster Pro",
		author: "Productivity Labs",
		icon: "/icons/dhung.jpg",
		rating: 4.8,
		downloads: "2M+",
		category: "Productivity",
		price: "$4.99",
		description: "Advanced task management for teams"
	},
	{
		title: "Photo Editor Plus",
		author: "Creative Studio",
		icon: "/icons/book.png",
		rating: 4.6,
		downloads: "5M+",
		category: "Photo & Video",
		price: "Free",
		description: "Professional photo editing made simple"
	}
];

const categories = [
	{ name: "Comunication", icon: "ðŸŽ®", color: "bg-purple-500" },
	{ name: "VPN", icon: "ðŸ“Š", color: "bg-blue-500" },
	{ name: "Browsers", icon: "ðŸŽ¬", color: "bg-red-500" },
	{ name: "Tools", icon: "ðŸ“š", color: "bg-green-500" },

];

const topCharts = [
	{ title: "WhatsApp", author: "WhatsApp Inc.", icon: "/icons/dhung.jpg", rating: 4.3, downloads: "5B+" },
	{ title: "Instagram", author: "Meta", icon: "/icons/book.png", rating: 4.2, downloads: "1B+" },
	{ title: "TikTok", author: "ByteDance", icon: "/icons/dhung.jpg", rating: 4.1, downloads: "1B+" },
	{ title: "YouTube", author: "Google", icon: "/icons/book.png", rating: 4.4, downloads: "5B+" }
];

// Tab-specific app lists
const tabApps = {
	all: [
		{ title: "WhatsApp", author: "WhatsApp Inc.", icon: "/icons/dhung.jpg", rating: 4.3, downloads: "5B+", category: "Communication" },
		{ title: "Instagram", author: "Meta", icon: "/icons/book.png", rating: 4.2, downloads: "1B+", category: "Social" },
		{ title: "Clash of Clans", author: "Supercell", icon: "/icons/dhung.jpg", rating: 4.5, downloads: "500M+", category: "Games" },
		{ title: "Netflix", author: "Netflix Inc.", icon: "/icons/book.png", rating: 4.1, downloads: "1B+", category: "Entertainment" }
	],
	games: [
		{ title: "Clash of Clans", author: "Supercell", icon: "/icons/dhung.jpg", rating: 4.5, downloads: "500M+", category: "Strategy" },
		{ title: "PUBG Mobile", author: "Tencent Games", icon: "/icons/book.png", rating: 4.3, downloads: "1B+", category: "Action" },
		{ title: "Candy Crush Saga", author: "King", icon: "/icons/dhung.jpg", rating: 4.4, downloads: "1B+", category: "Puzzle" },
		{ title: "Among Us", author: "InnerSloth", icon: "/icons/book.png", rating: 4.2, downloads: "500M+", category: "Social" }
	],
	apps: [
		{ title: "WhatsApp", author: "WhatsApp Inc.", icon: "/icons/dhung.jpg", rating: 4.3, downloads: "5B+", category: "Communication" },
		{ title: "Instagram", author: "Meta", icon: "/icons/book.png", rating: 4.2, downloads: "1B+", category: "Social" },
		{ title: "Spotify", author: "Spotify AB", icon: "/icons/dhung.jpg", rating: 4.5, downloads: "1B+", category: "Music" },
		{ title: "Zoom", author: "Zoom Video Communications", icon: "/icons/book.png", rating: 4.1, downloads: "500M+", category: "Productivity" }
	],
	movies: [
		{ title: "Netflix", author: "Netflix Inc.", icon: "/icons/book.png", rating: 4.1, downloads: "1B+", category: "Streaming" },
		{ title: "Disney+", author: "Disney", icon: "/icons/dhung.jpg", rating: 4.3, downloads: "500M+", category: "Streaming" },
		{ title: "Amazon Prime Video", author: "Amazon", icon: "/icons/book.png", rating: 4.0, downloads: "500M+", category: "Streaming" },
		{ title: "YouTube", author: "Google", icon: "/icons/dhung.jpg", rating: 4.4, downloads: "5B+", category: "Video" }
	],
	books: [
		{ title: "Kindle", author: "Amazon", icon: "/icons/book.png", rating: 4.2, downloads: "100M+", category: "Reading" },
		{ title: "Audible", author: "Amazon", icon: "/icons/dhung.jpg", rating: 4.4, downloads: "100M+", category: "Audiobooks" },
		{ title: "Google Play Books", author: "Google", icon: "/icons/book.png", rating: 4.1, downloads: "1B+", category: "Reading" },
		{ title: "Wattpad", author: "Wattpad Corp", icon: "/icons/dhung.jpg", rating: 4.3, downloads: "100M+", category: "Writing" }
	],
	kids: [
		{ title: "YouTube Kids", author: "Google", icon: "/icons/book.png", rating: 4.0, downloads: "100M+", category: "Video" },
		{ title: "ABCmouse", author: "Age of Learning", icon: "/icons/dhung.jpg", rating: 4.2, downloads: "10M+", category: "Education" },
		{ title: "PBS Kids Games", author: "PBS", icon: "/icons/book.png", rating: 4.3, downloads: "10M+", category: "Games" },
		{ title: "Khan Academy Kids", author: "Khan Academy", icon: "/icons/dhung.jpg", rating: 4.5, downloads: "10M+", category: "Education" }
	]
};
---
<Layout>
	<!-- Hero Section -->
	<Hero featuredApps={featuredApps} categories={categories} />
	
	<!-- Category Tabs Section -->
	<section class="py-8 bg-white border-b border-gray-200" id="menu">
		<div class="container mx-auto px-6">
			<div class="flex flex-wrap gap-2 justify-center md:justify-start text-md">
				<button class="tab-btn px-4 py-2 bg-blue-600 text-white rounded-full font-medium hover:bg-blue-700 transition-colors" data-tab="all">
					All
				</button>
				<button class="tab-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full font-medium hover:bg-gray-200 transition-colors" data-tab="games">
					Communication
				</button>
				<button class="tab-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full font-medium hover:bg-gray-200 transition-colors" data-tab="apps">
					VPN
				</button>
				<button class="tab-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full font-medium hover:bg-gray-200 transition-colors" data-tab="movies">
					Browsers
				</button>
				<button class="tab-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full font-medium hover:bg-gray-200 transition-colors" data-tab="books">
					Others
				</button>
				
			</div>
		</div>
	</section>

	<!-- Tab Content Section -->
	<section class="py-16 bg-gray-50">
		<div class="container mx-auto px-6">
			<div class="flex items-center justify-between mb-8">
				<h2 class="text-3xl font-bold text-gray-900" id="tab-title">All Apps</h2>
				<a href="#" class="text-blue-600 hover:text-blue-700 font-medium">See all</a>
			</div>
			<div class="grid grid-cols-2 md:grid-cols-6 lg:grid-cols-8 gap-6 justify-center" id="tab-content">
				{tabApps.all.map(app => (
					<CardThumbnail title={app.title} author={app.author} icon={app.icon} rating={app.rating} category={app.category} />
				))}
			</div>
		</div>
	</section>



	<!-- Top Charts Section -->
	<section class="py-16 bg-gray-50">
		<div class="container mx-auto px-6">
			<div class="flex items-center justify-between mb-8">
				<h2 class="text-3xl font-bold text-gray-900">Top Charts</h2>
				<a href="#" class="text-blue-600 hover:text-blue-700 font-medium">See all</a>
			</div>
			<div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-6 justify-center">
				{topCharts.map((app, index) => (
					<CardThumbnail title={app.title} author={app.author} icon={app.icon} rating={app.rating} />
				))}
			</div>
		</div>
	</section>

	<!-- New Releases Section -->
	 <section class="py-16 ">
		<div class="container mx-auto px-6">
			<div class="flex items-center justify-between mb-8">
				<h2 class="text-3xl font-bold text-gray-900">New Releases</h2>
				<a href="#" class="text-blue-600 hover:text-blue-700 font-medium">See all</a>
			</div>
			<div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-6 justify-center">
				{featuredApps.slice(0, 8).map(app => (
					<Card title={app.title} author={app.author} icon={app.icon} rating={app.rating} category={app.category} />
				))}
			</div>
		</div>
	</section>

	<!-- Editor's Choice Section -->
	<section class="py-16 bg-gradient-to-r from-purple-50 to-pink-50">
		<div class="container mx-auto px-6">
			<div class="text-center mb-12">
				<h2 class="text-3xl font-bold text-gray-900 mb-4">Editor's Choice</h2>
				<p class="text-lg text-gray-600">Handpicked apps that our editors love</p>
			</div>
			<div class="max-w-4xl mx-auto">
				<div class="bg-white rounded-2xl shadow-lg overflow-hidden">
					<div class="md:flex">
						<div class="md:w-1/2 p-8">
							<div class="flex items-center mb-6">
								<div class="w-20 h-20 bg-gray-200 rounded-2xl flex items-center justify-center mr-6">
									<img src="/icons/dhung.jpg" alt="Editor's Choice" class="w-16 h-16 rounded-xl object-cover" />
								</div>
								<div>
									<h3 class="text-2xl font-bold text-gray-900">Dhungkar</h3>
									<p class="text-gray-600">Dhungkar Corporation</p>
									<div class="flex items-center mt-2">
										<div class="flex text-yellow-400">
											{Array.from({length: 5}).map((_, i) => (
												<svg key={i} class={`w-4 h-4 ${i < 4 ? 'text-yellow-400' : 'text-gray-300'}`} fill="currentColor" viewBox="0 0 20 20">
													<path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
												</svg>
											))}
										</div>
										<span class="ml-2 text-gray-600">4.5</span>
									</div>
								</div>
							</div>
							<p class="text-gray-600 mb-6">
								"This app has revolutionized how we manage our daily tasks. The intuitive interface and powerful features make it a must-have for productivity enthusiasts."
							</p>
							<button class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-medium">
								Install Now
							</button>
						</div>
						<div class="md:w-1/2 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
							<div class="text-center text-white p-8">
								<div class="w-32 h-32 bg-white bg-opacity-20 rounded-3xl flex items-center justify-center mx-auto mb-4">
									<img src="/icons/dhung.jpg" alt="App Preview" class="w-24 h-24 rounded-2xl object-cover" />
								</div>
								<h4 class="text-xl font-bold mb-2">Featured App</h4>
								<p class="text-blue-100">Download now and experience the difference</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</Layout>

<script>
	// Tab functionality
	document.addEventListener('DOMContentLoaded', function() {
		const tabButtons = document.querySelectorAll('.tab-btn');
		const tabContent = document.getElementById('tab-content');
		const tabTitle = document.getElementById('tab-title');
		
		// Tab data
		const tabData = {
			all: {
				title: "All Apps",
				apps: [
					{ title: "WhatsApp", author: "WhatsApp Inc.", icon: "icons/dhung.jpg", rating: 4.3, downloads: "5B+", category: "Communication" },
					{ title: "Instagram", author: "Meta", icon: "icons/book.png", rating: 4.2, downloads: "1B+", category: "Social" },
					{ title: "Clash of Clans", author: "Supercell", icon: "icons/dhung.jpg", rating: 4.5, downloads: "500M+", category: "Games" },
					{ title: "Netflix", author: "Netflix Inc.", icon: "icons/book.png", rating: 4.1, downloads: "1B+", category: "Entertainment" }
				]
			},
			games: {
				title: "Games",
				apps: [
					{ title: "Clash of Clans", author: "Supercell", icon: "icons/dhung.jpg", rating: 4.5, downloads: "500M+", category: "Strategy" },
					{ title: "PUBG Mobile", author: "Tencent Games", icon: "icons/book.png", rating: 4.3, downloads: "1B+", category: "Action" },
					{ title: "Candy Crush Saga", author: "King", icon: "icons/dhung.jpg", rating: 4.4, downloads: "1B+", category: "Puzzle" },
					{ title: "Among Us", author: "InnerSloth", icon: "icons/book.png", rating: 4.2, downloads: "500M+", category: "Social" }
				]
			},
			apps: {
				title: "Apps",
				apps: [
					{ title: "WhatsApp", author: "WhatsApp Inc.", icon: "icons/dhung.jpg", rating: 4.3, downloads: "5B+", category: "Communication" },
					{ title: "Instagram", author: "Meta", icon: "icons/book.png", rating: 4.2, downloads: "1B+", category: "Social" },
					{ title: "Spotify", author: "Spotify AB", icon: "icons/dhung.jpg", rating: 4.5, downloads: "1B+", category: "Music" },
					{ title: "Zoom", author: "Zoom Video Communications", icon: "icons/book.png", rating: 4.1, downloads: "500M+", category: "Productivity" }
				]
			},
			movies: {
				title: "Movies & TV",
				apps: [
					{ title: "Netflix", author: "Netflix Inc.", icon: "icons/book.png", rating: 4.1, downloads: "1B+", category: "Streaming" },
					{ title: "Disney+", author: "Disney", icon: "icons/dhung.jpg", rating: 4.3, downloads: "500M+", category: "Streaming" },
					{ title: "Amazon Prime Video", author: "Amazon", icon: "icons/book.png", rating: 4.0, downloads: "500M+", category: "Streaming" },
					{ title: "YouTube", author: "Google", icon: "icons/dhung.jpg", rating: 4.4, downloads: "5B+", category: "Video" }
				]
			},
			books: {
				title: "Books",
				apps: [
					{ title: "Kindle", author: "Amazon", icon: "icons/book.png", rating: 4.2, downloads: "100M+", category: "Reading" },
					{ title: "Audible", author: "Amazon", icon: "icons/dhung.jpg", rating: 4.4, downloads: "100M+", category: "Audiobooks" },
					{ title: "Google Play Books", author: "Google", icon: "icons/book.png", rating: 4.1, downloads: "1B+", category: "Reading" },
					{ title: "Wattpad", author: "Wattpad Corp", icon: "icons/dhung.jpg", rating: 4.3, downloads: "100M+", category: "Writing" }
				]
			},
			kids: {
				title: "Kids",
				apps: [
					{ title: "YouTube Kids", author: "Google", icon: "icons/book.png", rating: 4.0, downloads: "100M+", category: "Video" },
					{ title: "ABCmouse", author: "Age of Learning", icon: "icons/dhung.jpg", rating: 4.2, downloads: "10M+", category: "Education" },
					{ title: "PBS Kids Games", author: "PBS", icon: "icons/book.png", rating: 4.3, downloads: "10M+", category: "Games" },
					{ title: "Khan Academy Kids", author: "Khan Academy", icon: "icons/dhung.jpg", rating: 4.5, downloads: "10M+", category: "Education" }
				]
			}
		};
		
		// Function to render app cards
		function renderApps(apps) {
			return apps.map(app => `
				<div class=" rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300  bg-white p-3">
					<div class="grid items-center just-fy-center">
						<div class="w-full h-36 bg-gray-200 rounded-lg flex items-center justify-center">
							<img src="${app.icon}" alt="${app.title}" class="w-full h-36 rounded-lg object-cover" />
						</div>
						<div class="flex-1">
							<h3 class="font-semibold text-gray-900">${app.title}</h3>
							<p class="text-sm text-gray-600">${app.author}</p>
							<p class="text-xs text-blue-600">${app.category}</p>
							<div class="flex items-center mt-1">
								<div class="flex text-yellow-400">
									${Array.from({length: 5}).map((_, i) => 
										`<svg class="w-3 h-3 ${i < Math.floor(app.rating) ? 'text-yellow-400' : 'text-gray-300'}" fill="currentColor" viewBox="0 0 20 20">
											<path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l-1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
										</svg>`
									).join('')}
								</div>
								<span class="ml-1 text-xs text-gray-600 pb-2">${app.rating}</span>
							</div>
						</div>
						<div class="rounded-md flex justify-center bg-blue-600">
							<button class=" hover:text-blue-300 text-sm font-medium px-3 text-white py-1">Install</button>
						</div>
					</div>
				</div>
			`).join('');
		}
		
		// Function to switch tabs
		function switchTab(tabName) {
			// Update button states
			tabButtons.forEach(btn => {
				if (btn.dataset.tab === tabName) {
					btn.className = 'tab-btn px-4 py-2 bg-blue-600 text-white rounded-full font-medium hover:bg-blue-700 transition-colors';
				} else {
					btn.className = 'tab-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full font-medium hover:bg-gray-200 transition-colors';
				}
			});
		
			// Update content
			const data = tabData[tabName];
			tabTitle.textContent = data.title;
			tabContent.innerHTML = renderApps(data.apps);
		}
		
		// Add click event listeners
		tabButtons.forEach(btn => {
			btn.addEventListener('click', function() {
				switchTab(this.dataset.tab);
			});
		});
	});
</script>

